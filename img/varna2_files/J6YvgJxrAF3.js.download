if (self.CavalryLogger) { CavalryLogger.start_js(["HD0Uo"]); }

__d("SpatialAudioFallbackReasons",[],(function a(b,c,d,e,f,g){f.exports={CHANNEL:"channel",SCROLL:"scroll"};}),null);
__d("SphericalMediaPerformanceEvents",[],(function a(b,c,d,e,f,g){f.exports={SNAPSHOT:"snapshot",AUDIO_FALLBACK:"audio_fallback"};}),null);
__d("VideoAutoplayGatingResult",[],(function a(b,c,d,e,f,g){f.exports={UGC_DEFAULT_ALLOWED:"ugc_default_allowed",PAGE_SPONSORED_ALLOWED:"page_sponsored_allowed",PAGE_SPONSORED_DEBUG_FORCE_ALLOWED:"page_sponsored_debug_force_allowed",FEED_RANKING_UGC_ALLOWED:"feed_ranking_ugc_allowed",ALL_PAGE_ORGANIC_ALLOWED:"all_page_organic_allowed",FEED_RANKING_ORGANIC_ALLOWED:"feed_ranking_organic_allowed",RELATED_WHITELISTED_ORGANIC_ALLOWED:"related_whitelisted_organic_allowed",HQ_PAGE_ORGANIC_ALLOWED:"hq_page_organic_allowed",PREMIUM_DEFAULT_ALLOWED:"premium_default_allowed",DEMO_SPONSORED_ALLOWED:"demo_sponsored_allowed",UNKNOWN:"unknown",FEED_RANKING_UNKNOWN:"feed_ranking_unknown",LONG_TERM_HOLDOUT:"long_term_holdout",DEFAULT_OFF:"default_off",GATEKEEPER:"gatekeeper",UGC_HOLDOUT:"ugc_holdout",IS_SPONSORED:"is_sponsored",IS_SPONSORED_UGC:"is_sponsored_ugc",IS_BOOSTED:"is_boosted",NO_OWNER:"no_owner",PAGE_NOT_WHITELISTED:"page_not_whitelisted",PAGE_NOT_BRAND_SAFE:"page_not_brand_safe",NO_USER_PAGE_RELATIONSHIP:"no_user_page_relationship",USER_SETTINGS:"user_settings",VIDEO_BLACKLISTED:"video_blacklisted",UGC_VIDEO_DISABLED_BY_QE:"ugc_video_disabled_by_qe",PAGE_WHITELIST_DISABLED_BY_QE:"page_whitelist_disabled_by_qe",RANKING_PREDICTION_DISABLED:"ranking_prediction_disabled",RANKING_DATA_MISSING:"ranking_data_missing",HIGH_XOUT_RATIO:"high_xout_ratio",VIDEO_UNORIGINALITY:"video_unoriginality",DISABLED_BY_GAP_RULE:"disabled_by_gap_rule",AUTOPLAY_ADS_COUNT_CAP_REACHED:"autoplay_ads_count_cap_reached",AUTOPLAY_ADS_COUNT_CAP_REACHED_BACKEND:"autoplay_ads_count_cap_reached_backend",MOO_PREMIUM_AUTOPLAY_ADS_COUNT_CAP_REACHED:"moo_premium_autoplay_ads_count_cap_reached",MOO_PREMIUM_AUTOPLAY_ADS_COUNT_CAP_REACHED_BACKEND:"moo_premium_autoplay_ads_count_cap_reached_backend",AUTOPLAY_DISABLED_FOR_CLICK_BIDDING_ADS:"autoplay_disabled_for_click_bidding_ads",AUTOPLAY_DISABLED_FOR_ALL_ADS:"autoplay_disabled_for_all_ads",NOT_WHITELISTED_ACCOUNT:"not_whitelisted_account",NOT_MANAGED_ACCOUNT:"not_managed_account",UNSUPPORTED_CURRENCY:"unsupported_currency",DISABLED_BY_DYNAMIC_CAP:"disabled_by_dynamic_cap",DISABLED_BY_CREATIVE_TYPE:"disabled_by_creative_type",MOBILE_DATA_CONSUMPTION_LIMIT:"mobile_data_consumption_limit",PAGE_VIDEO_NOT_WIFI:"page_video_not_wifi",ANY_VIDEO_NOT_WIFI:"any_video_not_wifi",DISABLED_BY_AD_QUALITY_TABLE:"disabled_by_ad_quality_table",POOR_CONNECTION_QUALITY:"poor_connection_quality",AUTOPLAY_ADS_DISABLED_BY_BLACKLISTED_PAGE:"autoplay_ads_disabled_by_blacklisted_page",BACK_TO_BACK_VIDEOS:"back_to_back_videos",VIDEO_BROADCAST_AUTOPLAY_DISABLED:"video_broadcast_autoplay_disabled",VIDEO_TOO_LONG:"video_too_long",LOW_VIDEO_VIEW_PREDICTION:"low_video_view_prediction",SPHERICAL_CELL:"spherical_cell",STORY_OF_FRIENDSHIP:"story_of_friendship",GOODWILL_VIDEO_PROMOTION_FRIENDSDAY:"goodwill_video_promotion_friendsday",GOODWILL_VIDEO_SHARE_FRIENDSDAY:"goodwill_video_share_friendsday",GOODWILL_VIDEO_PROMOTION_YIR:"goodwill_video_promotion_yir",GOODWILL_VIDEO_SHARE_YIR:"goodwill_video_share_yir",GOODWILL_VIDEO_SHARE_FRIENDVERSARY:"goodwill_video_share_friendversary",USER_GATING_PASSED:"user_gating_passed",USER_PAGE_GATING_PASSED:"user_page_gating_passed",TEST_WHITELISTED:"test_whitelisted",TEST_BLACKLISTED:"test_blacklisted",TEST_NON_AD_FOR_ADS_ONLY_AUTOPLAY:"test_non_ad_for_ads_only_autoplay",WHITELISTED_XOUT_VIDEO:"whitelisted_xout_video"};}),null);
__d("VideoBroadcastStatus",[],(function a(b,c,d,e,f,g){f.exports={PREVIEW:"PREVIEW",LIVE:"LIVE",LIVE_STOPPED:"LIVE_STOPPED",VOD_READY:"VOD_READY",SEAL_STARTED:"SEAL_STARTED",SCHEDULED_PREVIEW:"SCHEDULED_PREVIEW",SCHEDULED_LIVE:"SCHEDULED_LIVE",SCHEDULED_EXPIRED:"SCHEDULED_EXPIRED",SCHEDULED_CANCELED:"SCHEDULED_CANCELED"};}),null);
__d("VideoPlayerOrigins",[],(function a(b,c,d,e,f,g){f.exports={NEWSFEED:"newsfeed",USER_TIMELINE:"user_timeline",PAGE_TIMELINE:"page_timeline",PERMALINK:"permalink",GROUP:"group",CONNECTED_TV:"connected_tv",CONNECTED_TV_DISCOVERY:"connected_tv_discovery",CONNECTED_TV_PLAYER:"connected_tv_player",CONNECTED_TV_PROFILE:"connected_tv_profile",VIDEO_HOME:"video_home",VIDEO_HOME_FEED:"video_home_feed",VIDEO_HOME_REACTION:"video_home_reaction",VIDEO_HOME_MAIN:"video_home_main",VIDEO_HOME_GUIDE:"video_home_guide",VIDEO_TAB:"video_tab",EXTERNAL:"external",INSTANT_ARTICLES:"instant_articles",INTERN:"intern",BACKSTAGE:"backstage",INSTANT_SHOPPING:"instant_shopping",REDSPACE:"redspace",SAVED:"saved",SEARCH:"search",FACECAST_BEEPER:"facecast_beeper",NOTIFICATIONS:"notifications",UNKNOWN:"unknown",LIVE_MAP:"live_map",LIVE_REDIRECT:"live_redirect",LIVE_EMBED_REDIRECT:"live_embed_redirect",LOCAL_NEWS:"local_news",PAGES_MODULE:"pages_module",PAGES_VIDEO_TAB:"pages_video_tab",BACKGROUND_PLAY:"background_play",QUICK_PROMOTION:"quick_promotion",CULTURAL_MOMENTS:"cultural_moments_share",SPHERIAL_VIDEO_EDITING:"spherial_video_editing",EXPLORE_FEED:"explorefeed",RHC:"rhc",ADS:"ads",CANVAS:"canvas",COMMERCE:"commerce",COMPOSER:"composer",DASH:"dash",FACEWEB:"faceweb",FEEDBACK:"feedback",FRIENDS:"friends",EVENTS:"events",HELP:"help",INFRASTRUCTURE:"infrastructure",LOGIN:"login",MARKETING:"marketing",MESSAGING:"messaging",NAVIGATION:"navigation",PHOTOS:"photos",PRIVACY:"privacy",SETTINGS:"settings",STORY_VIEW:"story_view",WEBVIEW:"webview",TRENDING:"trending",FACECAST_NUX:"facecast_nux",PIXELCLOUD:"pixelcloud",TAROT:"tarot",GAMEROOM:"gameroom"};}),null);
__d("VideoQualityClass",[],(function a(b,c,d,e,f,g){f.exports={UHD:"uhd",HD:"hd",SD:"sd"};}),null);
__d('SphericalMediaPerformanceTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:SphericalMediaPerformanceLoggerConfig',this.$SphericalMediaPerformanceTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:SphericalMediaPerformanceLoggerConfig',this.$SphericalMediaPerformanceTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$SphericalMediaPerformanceTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$SphericalMediaPerformanceTypedLogger1=babelHelpers['extends']({},this.$SphericalMediaPerformanceTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$SphericalMediaPerformanceTypedLogger1.event=j;return this;};h.prototype.setFallbackDuration=function(j){this.$SphericalMediaPerformanceTypedLogger1.fallback_duration=j;return this;};h.prototype.setFallbackReason=function(j){this.$SphericalMediaPerformanceTypedLogger1.fallback_reason=j;return this;};h.prototype.setNormalizedFrameTime=function(j){this.$SphericalMediaPerformanceTypedLogger1.normalized_frame_time=j;return this;};h.prototype.setNumSpatialAudioStutters=function(j){this.$SphericalMediaPerformanceTypedLogger1.num_spatial_audio_stutters=j;return this;};var i={event:true,fallback_duration:true,fallback_reason:true,normalized_frame_time:true,num_spatial_audio_stutters:true};f.exports=h;}),null);
__d('Dimensions',[],(function a(b,c,d,e,f,g){'use strict';var h={get:function i(){return {fontScale:1,height:550,width:310,scale:2.5};}};f.exports=h;}),null);
__d('PixelRatio',['Dimensions'],(function a(b,c,d,e,f,g){'use strict';var h={get:function i(){return c('Dimensions').get('window').scale;},getFontScale:function i(){return c('Dimensions').get('window').fontScale||h.get();},getPixelSizeForLayoutSize:function i(j){return Math.round(j*h.get());},roundToNearestPixel:function i(j){var k=h.get();return Math.round(j*k)/k;},startDetecting:function i(){}};f.exports=h;}),null);
__d('SphericalMediaCanvasPool',['DOM','Map'],(function a(b,c,d,e,f,g){'use strict';var h=1,i='default',j=function l(m,n){return m+n;};function k(){this.$SphericalMediaCanvasPool1=new (c('Map'))();this.$SphericalMediaCanvasPool2=new (c('Map'))();}k.prototype.setLimit=function(l){var m=arguments.length<=1||arguments[1]===undefined?i:arguments[1],n=this.$SphericalMediaCanvasPool2.get(m)||{queue:[],limit:l};this.$SphericalMediaCanvasPool2.set(m,n);};k.prototype.release=function(l){var m=arguments.length<=1||arguments[1]===undefined?i:arguments[1],n=j(l,m),o=this.$SphericalMediaCanvasPool1.get(n);if(!o)return false;var p=this.$SphericalMediaCanvasPool2.get(m);if(!p||p.queue.length===0)return false;p.queue.splice(p.queue.indexOf(n),1);o.canvas.parentNode&&o.canvas.parentNode.removeChild(o.canvas);return this.$SphericalMediaCanvasPool1['delete'](n);};k.prototype.get=function(l,m){var n=arguments.length<=2||arguments[2]===undefined?i:arguments[2],o=babelHelpers['extends']({},m.canvasAttrs);if(!l||!m.beforeCanvasLost)throw new Error('Missing required arguments.');var p=j(l,n);o['data-id']=o['data-id']||l;var q=this.$SphericalMediaCanvasPool1.get(p);if(q)return q.canvas;var r=this.$SphericalMediaCanvasPool2.get(n)||{queue:[],limit:h},s=void 0;if(r.queue.length<r.limit){s=c('DOM').create('canvas',o);}else{var t=r.queue.shift(),u=this.$SphericalMediaCanvasPool1.get(t);if(!u)throw new Error('Canvas pool could not find the item',t);s=u.canvas;u.beforeCanvasLost();this.$SphericalMediaCanvasPool1['delete'](t);c('DOM').setAttributes(s,o);}if(!s)throw new Error('Failed to get a canvas.');r.queue.push(p);this.$SphericalMediaCanvasPool2.set(n,r);this.$SphericalMediaCanvasPool1.set(p,{canvas:s,beforeCanvasLost:m.beforeCanvasLost});return s;};f.exports=new k();}),null);
__d("MovingAverage",[],(function a(b,c,d,e,f,g){function h(i,j){"use strict";j=j||0;this.$MovingAverage1=0;this.$MovingAverage2=j*i;this.$MovingAverage3=i;this.$MovingAverage4=[];for(var k=0;k<i;k++)this.$MovingAverage4[k]=j;}h.prototype.add=function(i){"use strict";this.$MovingAverage2-=this.$MovingAverage4[this.$MovingAverage1];this.$MovingAverage2+=i;this.$MovingAverage4[this.$MovingAverage1]=i;this.$MovingAverage1=(this.$MovingAverage1+1)%this.$MovingAverage3;return this;};h.prototype.get=function(i){"use strict";i=i===undefined?0:i;var j=(this.$MovingAverage1-i-1+this.$MovingAverage3)%this.$MovingAverage3;return this.$MovingAverage4[j];};h.prototype.getAvg=function(){"use strict";return this.$MovingAverage2/this.$MovingAverage3;};h.prototype.getMax=function(){"use strict";return Math.max.apply(Math,this.$MovingAverage4);};h.prototype.getMin=function(){"use strict";return Math.min.apply(Math,this.$MovingAverage4);};g.MovingAverage=h;}),null);
__d('SphericalVideoPerformanceTracker',['MovingAverage','SpatialAudioFallbackReasons','SphericalMediaPerformanceTypedLogger','SphericalMediaPerformanceEvents','Visibility','performance'],(function a(b,c,d,e,f,g){var h=c('MovingAverage').MovingAverage,i=60,j=1000,k=10*j,l=15,m=j/i;function n(){'use strict';n.$SphericalVideoPerformanceTracker1=false;this.$SphericalVideoPerformanceTracker8=new h(500,m);this.$SphericalVideoPerformanceTracker9=new (c('SphericalMediaPerformanceTypedLogger'))();this.$SphericalVideoPerformanceTracker10=false;this.$SphericalVideoPerformanceTracker6=-1;this.$SphericalVideoPerformanceTracker5=false;var o=function(){this.$SphericalVideoPerformanceTracker4=false;this.$SphericalVideoPerformanceTracker13();}.bind(this),p=function(){this.$SphericalVideoPerformanceTracker4=true;}.bind(this);c('Visibility').isHidden()?o():p();c('Visibility').addListener(c('Visibility').HIDDEN,o);c('Visibility').addListener(c('Visibility').VISIBLE,p);}n.get=function(){'use strict';if(!n.$SphericalVideoPerformanceTracker2)n.$SphericalVideoPerformanceTracker2=new n();return n.$SphericalVideoPerformanceTracker2;};n.prototype.addFrameAtTime=function(o){'use strict';if(!this.$SphericalVideoPerformanceTracker4)return;if(o!==this.$SphericalVideoPerformanceTracker7){n.$SphericalVideoPerformanceTracker1=true;this.$SphericalVideoPerformanceTracker7=o;if(!this.$SphericalVideoPerformanceTracker3){this.$SphericalVideoPerformanceTracker3=o;}else{var p=o-this.$SphericalVideoPerformanceTracker3;this.$SphericalVideoPerformanceTracker3=o;this.$SphericalVideoPerformanceTracker8.add(p);if(!this.$SphericalVideoPerformanceTracker10){this.$SphericalVideoPerformanceTracker14();this.$SphericalVideoPerformanceTracker10=true;}}}};n.prototype.trackSpatialAudioMetrics=function(){'use strict';this.$SphericalVideoPerformanceTracker5=true;this.$SphericalVideoPerformanceTracker12=0;};n.prototype.isTrackingSpatialAudioMetrics=function(){'use strict';return this.$SphericalVideoPerformanceTracker5;};n.prototype.addAudioStutter=function(){'use strict';if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();this.$SphericalVideoPerformanceTracker12++;};n.prototype.enterSpatialAudioFallback=function(){'use strict';if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();this.$SphericalVideoPerformanceTracker6=c('performance').now();};n.prototype.exitSpatialAudioFallback=function(){'use strict';if(!this.isTrackingSpatialAudioMetrics())this.trackSpatialAudioMetrics();if(this.$SphericalVideoPerformanceTracker6>0){var o=Math.trunc(c('performance').now()-this.$SphericalVideoPerformanceTracker6);this.$SphericalVideoPerformanceTracker6=-1;this.$SphericalVideoPerformanceTracker9.setEvent(c('SphericalMediaPerformanceEvents').AUDIO_FALLBACK);this.$SphericalVideoPerformanceTracker9.setFallbackDuration(o);this.$SphericalVideoPerformanceTracker9.setFallbackReason(c('SpatialAudioFallbackReasons').CHANNEL);this.$SphericalVideoPerformanceTracker9.log();this.$SphericalVideoPerformanceTracker9.clear();}};n.prototype.isOne360VideoActive=function(){'use strict';return n.$SphericalVideoPerformanceTracker1;};n.prototype.log=function(){'use strict';if(!this.isOne360VideoActive()){return;}else{var o=Math.trunc(this.$SphericalVideoPerformanceTracker15()*Math.pow(10,l));this.$SphericalVideoPerformanceTracker9.setEvent(c('SphericalMediaPerformanceEvents').SNAPSHOT);this.$SphericalVideoPerformanceTracker9.setNormalizedFrameTime(o);if(this.$SphericalVideoPerformanceTracker5){this.$SphericalVideoPerformanceTracker9.setNumSpatialAudioStutters(this.$SphericalVideoPerformanceTracker12);this.$SphericalVideoPerformanceTracker12=0;}this.$SphericalVideoPerformanceTracker9.log();this.$SphericalVideoPerformanceTracker9.clear();}this.$SphericalVideoPerformanceTracker13();};n.prototype.destroy=function(){'use strict';clearInterval(this.$SphericalVideoPerformanceTracker11);n.$SphericalVideoPerformanceTracker2=null;};n.prototype.$SphericalVideoPerformanceTracker15=function(){'use strict';return this.$SphericalVideoPerformanceTracker8.getAvg()/m;};n.prototype.$SphericalVideoPerformanceTracker13=function(){'use strict';this.$SphericalVideoPerformanceTracker3=null;n.$SphericalVideoPerformanceTracker1=false;};n.prototype.$SphericalVideoPerformanceTracker14=function(){'use strict';this.$SphericalVideoPerformanceTracker11=setInterval(this.log.bind(this),k);};f.exports=n;}),null);
__d('SphericalVideoPlayerStateStore',['Map'],(function a(b,c,d,e,f,g){function h(){'use strict';this.$SphericalVideoPlayerStateInternal1={yaw:0,pitch:0};this.$SphericalVideoPlayerStateInternal2=60;}h.prototype.setCurrentViewport=function(j,k){'use strict';this.$SphericalVideoPlayerStateInternal1.yaw=j;this.$SphericalVideoPlayerStateInternal1.pitch=k;};h.prototype.getCurrentViewport=function(){'use strict';return this.$SphericalVideoPlayerStateInternal1;};h.prototype.setFieldOfView=function(j){'use strict';this.$SphericalVideoPlayerStateInternal2=j;};h.prototype.getFieldOfView=function(){'use strict';return this.$SphericalVideoPlayerStateInternal2;};function i(){'use strict';this.$SphericalVideoPlayerStateStore1=new (c('Map'))();}i.prototype.get=function(j){'use strict';var k=this.$SphericalVideoPlayerStateStore1.get(j);if(!k){throw new Error('SphericalVideoPlayerState for ID \''+j+'\' does not exist');}else return k;};i.prototype.register=function(j){'use strict';if(this.$SphericalVideoPlayerStateStore1.has(j))throw new Error('SphericalVideoPlayerState for ID \''+j+'\' already exists');var k=new h();this.$SphericalVideoPlayerStateStore1.set(j,k);};f.exports=new i();}),null);
__d('VideoPlayerHTML5Spherical',['cx','Arbiter','SphericalVideoPerformanceTracker','Banzai','CSS','DOM','DOMDimensions','EventEmitter','Event','SphericalMediaCanvasPool','SphericalVideoExperiments','FullScreen','SphericalVideoPlayerStateStore','SphericalViewportControl','SubscriptionsHandler','SphericalRenderer','requestAnimationFrame','uniqueID'],(function a(b,c,d,e,f,g,h){var i,j,k='SphericalVideoPlayer';c('SphericalMediaCanvasPool').setLimit(c('SphericalVideoExperiments').canvasLimit,k);i=babelHelpers.inherits(l,c('EventEmitter'));j=i&&i.prototype;function l(m,n,o){'use strict';j.constructor.call(this);if(typeof b.WebGLRenderingContext!=='function')throw new Error('WebGLRenderingContext not available.');this.$VideoPlayerHTML5Spherical2=m;this.$VideoPlayerHTML5Spherical8=Date.now();this.$VideoPlayerHTML5Spherical6=false;this.$VideoPlayerHTML5Spherical5=c('DOMDimensions').getElementDimensions(m);if(this.$VideoPlayerHTML5Spherical5.width===0||this.$VideoPlayerHTML5Spherical5.height===0)this.$VideoPlayerHTML5Spherical5={width:m.width,height:m.height};this.$VideoPlayerHTML5Spherical10=n;this.$VideoPlayerHTML5Spherical11=Object.assign({viewportClassName:"_2a6s",canvasClassName:"_38vt",placeholderImgClassName:"_44h9",videoID:'',playerID:undefined,eagerPreload:undefined,preventScrollDefaultAction:undefined},o);this.$VideoPlayerHTML5Spherical14=this.$VideoPlayerHTML5Spherical11.playerID||c('uniqueID')();try{c('SphericalVideoPlayerStateStore').register(this.$VideoPlayerHTML5Spherical14);this.$VideoPlayerHTML5Spherical15=c('SphericalVideoPlayerStateStore').get(this.$VideoPlayerHTML5Spherical14);this.$VideoPlayerHTML5Spherical15.setCurrentViewport(this.$VideoPlayerHTML5Spherical10.initialHeading,this.$VideoPlayerHTML5Spherical10.initialPitch);this.$VideoPlayerHTML5Spherical15.setFieldOfView(this.$VideoPlayerHTML5Spherical10.fieldOfView);}catch(p){this.$VideoPlayerHTML5Spherical15=c('SphericalVideoPlayerStateStore').get(this.$VideoPlayerHTML5Spherical14);}this.$VideoPlayerHTML5Spherical7=this.$VideoPlayerHTML5Spherical20.bind(this);c('CSS').hide(m);this.$VideoPlayerHTML5Spherical21();this.$VideoPlayerHTML5Spherical18=function(){this.$VideoPlayerHTML5Spherical2.removeEventListener('play',this.$VideoPlayerHTML5Spherical18);this.$VideoPlayerHTML5Spherical22();this.forceUpdateNextFrame();}.bind(this);if(this.$VideoPlayerHTML5Spherical11.eagerPreload){this.$VideoPlayerHTML5Spherical18();}else this.$VideoPlayerHTML5Spherical2.addEventListener('play',this.$VideoPlayerHTML5Spherical18);}l.prototype.$VideoPlayerHTML5Spherical23=function(){'use strict';var m=this.$VideoPlayerHTML5Spherical16||this.getScreenshotDataURL();this.$VideoPlayerHTML5Spherical16=null;var n=c('DOM').create('img',{width:this.$VideoPlayerHTML5Spherical5.width,height:this.$VideoPlayerHTML5Spherical5.height,src:m,className:this.$VideoPlayerHTML5Spherical11.placeholderImgClassName});c('DOM').insertAfter(this.$VideoPlayerHTML5Spherical2,n);if(this.$VideoPlayerHTML5Spherical17)this.$VideoPlayerHTML5Spherical17.remove();this.$VideoPlayerHTML5Spherical17=n;this.$VideoPlayerHTML5Spherical24();};l.prototype.$VideoPlayerHTML5Spherical21=function(){'use strict';var m=c('DOM').create('div',{className:this.$VideoPlayerHTML5Spherical11.viewportClassName,tabIndex:0}),n=new (c('SphericalViewportControl'))(m,this.$VideoPlayerHTML5Spherical10);n.addListener('viewportChange',this.$VideoPlayerHTML5Spherical25.bind(this));var o=['DOM/click','updateViewportBegin','updateViewportMove','updateViewportEnd','wheelScroll'];o.forEach(function(p){return n.addListener(p,this.emit.bind(this,p));}.bind(this));this.$VideoPlayerHTML5Spherical12=n;this.$VideoPlayerHTML5Spherical4=m;c('Arbiter').subscribe('VideoChannelView/opened',function(){this.$VideoPlayerHTML5Spherical19=true;this.$VideoPlayerHTML5Spherical12.disableKeyboard();}.bind(this));c('Arbiter').subscribe('VideoChannelView/closed',function(){this.$VideoPlayerHTML5Spherical19=false;this.$VideoPlayerHTML5Spherical12.enableKeyboard();}.bind(this));c('FullScreen').subscribe('changed',function(){if(c('FullScreen').isFullScreen()){this.$VideoPlayerHTML5Spherical12.enableKeyboard();}else if(this.$VideoPlayerHTML5Spherical19)this.$VideoPlayerHTML5Spherical12.disableKeyboard();}.bind(this));if(this.$VideoPlayerHTML5Spherical11.preventScrollDefaultAction)this.setPreventScrollDefaultAction(true);c('DOM').insertAfter(this.$VideoPlayerHTML5Spherical2,m);};l.prototype.$VideoPlayerHTML5Spherical22=function(){'use strict';this.$VideoPlayerHTML5Spherical9=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5Spherical9.addSubscriptions(c('Event').listen(this.$VideoPlayerHTML5Spherical2,'loadeddata',function(){return this.forceUpdateNextFrame();}.bind(this)),c('Event').listen(this.$VideoPlayerHTML5Spherical2,'seeked',function(){return this.forceUpdateNextFrame();}.bind(this)));var m={canvasAttrs:{width:this.$VideoPlayerHTML5Spherical5.width,height:this.$VideoPlayerHTML5Spherical5.height,className:this.$VideoPlayerHTML5Spherical11.canvasClassName,tabIndex:0},beforeCanvasLost:function(){return this.$VideoPlayerHTML5Spherical23();}.bind(this)},n=c('SphericalMediaCanvasPool').get(this.$VideoPlayerHTML5Spherical14,m,k),o=new (c('SphericalRenderer'))(this.$VideoPlayerHTML5Spherical2,n,this.$VideoPlayerHTML5Spherical10);o.addListener('renderingError',this.$VideoPlayerHTML5Spherical26.bind(this));o.addListener('renderingContextLost',this.$VideoPlayerHTML5Spherical24.bind(this));o.updateViewportDimensions(this.$VideoPlayerHTML5Spherical5.width,this.$VideoPlayerHTML5Spherical5.height);this.$VideoPlayerHTML5Spherical13=o;this.$VideoPlayerHTML5Spherical3=n;c('DOM').insertAfter(this.$VideoPlayerHTML5Spherical2,n);c('CSS').show(n);c('requestAnimationFrame')(this.$VideoPlayerHTML5Spherical7);};l.prototype.getSubscriptions=function(){'use strict';return {remove:function(){this.$VideoPlayerHTML5Spherical9.release();this.$VideoPlayerHTML5Spherical12.getSubscriptions().remove();}.bind(this)};};l.prototype.prepareScreenshot=function(){'use strict';this.$VideoPlayerHTML5Spherical16=this.getScreenshotDataURL();};l.prototype.getPlayerID=function(){'use strict';return this.$VideoPlayerHTML5Spherical14;};l.prototype.$VideoPlayerHTML5Spherical26=function(m){'use strict';var n=this.$VideoPlayerHTML5Spherical27();this.destroy();c('CSS').show(this.$VideoPlayerHTML5Spherical2);this.emit('error',{error:'SPHERICAL_RENDER_ERROR',message:m.message});if(n)this.$VideoPlayerHTML5Spherical2.play();};l.prototype.$VideoPlayerHTML5Spherical24=function(){'use strict';this.emit('renderingContextLost');this.$VideoPlayerHTML5Spherical28();this.$VideoPlayerHTML5Spherical2.addEventListener('play',this.$VideoPlayerHTML5Spherical18);};l.prototype.$VideoPlayerHTML5Spherical20=function(m){'use strict';if(!this.$VideoPlayerHTML5Spherical13)return;var n=this.$VideoPlayerHTML5Spherical13;c('requestAnimationFrame')(this.$VideoPlayerHTML5Spherical7);if(this.$VideoPlayerHTML5Spherical2.readyState>=this.$VideoPlayerHTML5Spherical2.HAVE_CURRENT_DATA)if(this.$VideoPlayerHTML5Spherical27()||this.$VideoPlayerHTML5Spherical6){c('SphericalVideoPerformanceTracker').get().addFrameAtTime(m);this.$VideoPlayerHTML5Spherical6=false;var o=this.$VideoPlayerHTML5Spherical12.getOrientation();n.render(o.x+90,o.y);if(this.$VideoPlayerHTML5Spherical17){this.$VideoPlayerHTML5Spherical17.remove();this.$VideoPlayerHTML5Spherical17=null;}}};l.prototype.$VideoPlayerHTML5Spherical27=function(){'use strict';return !(this.$VideoPlayerHTML5Spherical2.paused||this.$VideoPlayerHTML5Spherical2.ended);};l.prototype.freeze=function(){'use strict';if(this.$VideoPlayerHTML5Spherical13)this.$VideoPlayerHTML5Spherical13.setAutoUpdateTexture(false);};l.prototype.unfreeze=function(){'use strict';if(this.$VideoPlayerHTML5Spherical13)this.$VideoPlayerHTML5Spherical13.setAutoUpdateTexture(true);};l.prototype.setRelativeSphericalOrientation=function(m,n){'use strict';this.$VideoPlayerHTML5Spherical12.setRelativeSphericalOrientation(m,n);};l.prototype.setSphericalOrientation=function(m,n){'use strict';this.$VideoPlayerHTML5Spherical12.setSphericalOrientation(m,n);};l.prototype.setFieldOfView=function(m){'use strict';if(this.$VideoPlayerHTML5Spherical13){this.$VideoPlayerHTML5Spherical13.updateFieldOfView(m);this.$VideoPlayerHTML5Spherical12.setFieldOfView(m);this.$VideoPlayerHTML5Spherical15.setFieldOfView(m);this.forceUpdateNextFrame();}};l.prototype.setDimensions=function(m,n){'use strict';if(this.$VideoPlayerHTML5Spherical13){this.$VideoPlayerHTML5Spherical5.width=m;this.$VideoPlayerHTML5Spherical5.height=n;this.$VideoPlayerHTML5Spherical13.updateViewportDimensions(m,n);this.emit('dimensionsChange',this.$VideoPlayerHTML5Spherical5);this.forceUpdateNextFrame();}};l.prototype.getScreenshotDataURL=function(m,n){'use strict';if(!this.$VideoPlayerHTML5Spherical13)return '';var o=this.$VideoPlayerHTML5Spherical13,p=this.$VideoPlayerHTML5Spherical12.getOrientation(),q=p.x,r=p.y;return o.getScreenshotDataURL(q+90,r,m,n);};l.prototype.getDimensions=function(){'use strict';return this.$VideoPlayerHTML5Spherical5;};l.prototype.setPreventScrollDefaultAction=function(m){'use strict';this.$VideoPlayerHTML5Spherical12.setPreventScrollDefaultAction(m);};l.prototype.forceUpdateNextFrame=function(){'use strict';this.$VideoPlayerHTML5Spherical6=true;};l.prototype.$VideoPlayerHTML5Spherical25=function(m,n){'use strict';m=m>=0?(m+180)%360-180:(m-180)%360+180;this.$VideoPlayerHTML5Spherical29(m,n);this.emit('viewportChange',m,n);this.$VideoPlayerHTML5Spherical15.setCurrentViewport(m,n);if(!this.$VideoPlayerHTML5Spherical13)this.$VideoPlayerHTML5Spherical18();this.forceUpdateNextFrame();};l.prototype.$VideoPlayerHTML5Spherical29=function(m,n){'use strict';var o=Date.now();if(o-this.$VideoPlayerHTML5Spherical8>=1000){this.$VideoPlayerHTML5Spherical8=o;c('Banzai').post('spherical_video_viewport',{video_fbid:this.$VideoPlayerHTML5Spherical11.videoID,yaw_degrees:m,pitch_degrees:n,roll_degrees:0,field_of_view_y:this.$VideoPlayerHTML5Spherical10.fieldOfView,aspect_ratio:this.$VideoPlayerHTML5Spherical2.height/this.$VideoPlayerHTML5Spherical2.width,video_player_position:this.$VideoPlayerHTML5Spherical2.currentTime,timestamp:this.$VideoPlayerHTML5Spherical8});}};l.prototype.$VideoPlayerHTML5Spherical28=function(){'use strict';if(this.$VideoPlayerHTML5Spherical13){this.$VideoPlayerHTML5Spherical13.destroy();this.$VideoPlayerHTML5Spherical13=null;this.$VideoPlayerHTML5Spherical3.remove();this.$VideoPlayerHTML5Spherical9.release();}};l.prototype.destroy=function(){'use strict';this.$VideoPlayerHTML5Spherical28();this.$VideoPlayerHTML5Spherical12.destroy();this.$VideoPlayerHTML5Spherical4.remove();c('SphericalVideoPerformanceTracker').get().destroy();};f.exports=l;}),null);
__d('Pleasantville.react',['React','ReactDOM','VideoPlayerHTML5Api','VideoPlayerHTML5Shaka','VideoPlayerHTML5Spherical','VideoPlayerReactConfig','VideoQualityClass'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){return (c('React').createElement('video',{ref:'video',muted:this.props.startMuted,className:this.props.className,'data-video-width':this.props.width,'data-video-height':this.props.height}));};j.prototype.getVideoPlayerInitArgs=function(){var k=this.props.videoData,l={};if(k.isSpherical()){var m=k.getSphericalConfig();l={sphericalConfig:m,isSpherical:k.isSpherical(),VideoPlayerHTML5Spherical:c('VideoPlayerHTML5Spherical')};}var n=babelHelpers['extends']({VideoPlayerHTML5Shaka:c('VideoPlayerHTML5Shaka'),disableNativeControls:true,subtitlesActive:this.props.showSubtitles,minQuality:this.props.forceHD?c('VideoQualityClass').HD:c('VideoPlayerReactConfig').defaultQuality,unloadShouldCancelPendingRequest:true},l);return {apiConfig:n,apiModule:c('VideoPlayerHTML5Api'),videoElement:c('ReactDOM').findDOMNode(this.refs.video)};};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoRenderingUtils',['VideoPlayerExperiments','VideoPlayerVersions'],(function a(b,c,d,e,f,g){'use strict';var h={getPlayerVersion:function i(){return c('VideoPlayerVersions').PLEASANTVILLE;},isEmbeddedControlRedesign:function i(){var j=h.getPlayerVersion();return j===c('VideoPlayerVersions').PLEASANTVILLE||c('VideoPlayerExperiments').flashPlayerHtmlControls;},shouldFallbackToFlash:function i(j){var k=j.getPlayerVersionOverwrite();return k!==c('VideoPlayerVersions').PLEASANTVILLE;},getFlashFalloverVideoDataList:function i(j){var k=[j].concat(j.getFalloverData()),l={};for(var m=k,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p;l[q.getStreamType()]=q.getRawData();}var r={};for(var s=0;s<k.length;s++)r[s+1]=k[s].getRawData();return {videoDataPreference:r,videoDataByStreamType:l};}};f.exports=h;}),null);
__d('Silvercity.react',['flash-js','CurrentUser','PixelRatio','React','ReactDOM','URI','UserAgentData','VideoAutoplayGatingResult','VideoPlayerExperiments','VideoPlayerFlashApi','VideoPlayerSilvercityConfigs','VideoRenderingUtils','swfobject','uuid'],(function a(b,c,d,e,f,g){'use strict';var h,i;c('flash-js');var j={autoHD:false,defaultHD:false,disableNativeControls:true,inlinePlayer:false,preload:false,startMuted:false,hideControlsWhenFinished:false,showCaptionsDefault:true,autoplayReason:c('VideoAutoplayGatingResult').UNKNOWN};h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.swfID='swf_id_'+c('uuid')();}k.prototype.componentDidMount=function(){this.$Silvercity1();};k.prototype.componentWillReceiveProps=function(l){if(this.$Silvercity2(l))this.swfID='swf_id_'+c('uuid')();};k.prototype.componentDidUpdate=function(l){if(this.$Silvercity2(l))this.$Silvercity1();};k.prototype.$Silvercity2=function(l){return l.videoData.getVideoID()!==this.props.videoData.getVideoID();};k.prototype.$Silvercity3=function(){return {allowFullScreen:true,allowscriptaccess:'always',salign:'tl',scale:'noscale',wmode:'opaque'};};k.prototype.$Silvercity4=function(){var l=c('VideoRenderingUtils').getFlashFalloverVideoDataList(this.props.videoData),m=l.videoDataByStreamType,n=l.videoDataPreference;return {auto_hd:this.props.autoHD,autoplay_reason:this.props.autoplayReason,default_hd:this.props.defaultHD,disable_native_controls:this.props.disableNativeControls,inline_player:this.props.inlinePlayer,pixel_ratio:c('PixelRatio').get(),preload:this.props.preload,start_muted:this.props.startMuted,rtmp_stage_video:true,rtmp_buffer:c('VideoPlayerExperiments').enableRtmpBuffer,rtmp_buffer_time:c('VideoPlayerExperiments').rtmpBufferTime,rtmp_buffer_time_max:c('VideoPlayerExperiments').rtmpBufferTimeMax,video_data:m,video_data_preference:n,show_captions_default:this.props.showCaptionsDefault,persistent_volume:true,hide_controls_when_finished:this.props.hideControlsWhenFinished,rtmp_start_playing_non_zero_stream_time:true,rtmp_improve_playback_config:c('VideoPlayerExperiments').rtmpImprovePlayback,rtmp_no_stream_reported_time:c('VideoPlayerExperiments').rtmpNoStreamReportedTime,rtmp_start_time_fix:c('VideoPlayerExperiments').rtmpStartTimeFix,buffer_length:.1};};k.prototype.$Silvercity1=function(){var l=new (c('swfobject').SWFObject)(c('VideoPlayerSilvercityConfigs').silvercitySwfUrl,this.swfID,this.props.width,this.props.height,['10.3.181.34','11.0.0'],'#000000'),m=this.$Silvercity3();for(var n=Object.keys(m),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;l.addParam(r,m[r]);}var s=c('UserAgentData').browserName+'+'+c('UserAgentData').browserFullVersion,t=new (c('URI'))().setSubdomain('pixel').toString(),u={params:encodeURIComponent(JSON.stringify(this.$Silvercity4())),width:this.props.width,height:this.props.height,user:c('CurrentUser').getID(),log:c('CurrentUser').isEmployee()?'yes':'no',showErrors:'yes',div_id:this.swfID,swf_id:this.swfID,browser:s,tracking_domain:encodeURIComponent(t),post_form_id:''};for(var v=Object.keys(u),w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var y;if(w){if(x>=v.length)break;y=v[x++];}else{x=v.next();if(x.done)break;y=x.value;}var z=y;l.addVariable(z,u[z]);}window[this.swfID]=l;l.write(this.swfID);};k.prototype.render=function(){return (c('React').createElement('div',{ref:'video','data-flash':1,id:this.swfID,className:this.props.className,'data-video-width':this.props.width,'data-video-height':this.props.height}));};k.prototype.getVideoPlayerInitArgs=function(){return {apiConfig:{is_live_streaming:this.props.videoData.isLiveStream(),initial_stream_type:this.props.videoData.getStreamType(),is_facecast_audio:this.props.videoData.isFacecastAudio()},apiModule:c('VideoPlayerFlashApi'),videoElement:c('ReactDOM').findDOMNode(this.refs.video)};};k.defaultProps=j;f.exports=k;}),null);
__d('VideoComponent',['CurrentUser','ErrorBoundary.react','React','Relay','SubscriptionsHandler','fromGraphQL'],(function a(b,c,d,e,f,g){'use strict';function h(j){return j.displayName||j.name||'Component';}function i(j,k){var l,m,n=k||{},o=n.observedVpcEvents||[],p=n.suppressMount||function(){return false;},q=h(j);return m=l=function(){var r,s;r=babelHelpers.inherits(t,c('React').Component);s=r&&r.prototype;function t(u){'use strict';s.constructor.call(this,u);this.$VideoComponentContainer7=function(){if(this.$VideoComponentContainer2&&this.$VideoComponentContainer2.length&&this.refs.component){var v={time:Date.now(),queuedEvents:this.$VideoComponentContainer2};this.setState({vpcEventInfo:v});this.$VideoComponentContainer2=[];}}.bind(this);this.state={video:null,user:null,vpcEventInfo:{time:0,queuedEvents:[]}};this.$VideoComponentContainer2=[];}t.prototype.render=function(){'use strict';if(this.$VideoComponentContainer3())return null;return c('React').createElement(c('ErrorBoundary.react'),{onHandleError:function u(v,w){}},c('React').createElement(j,babelHelpers['extends']({ref:'component'},this.props,{vpcEventInfo:this.state.vpcEventInfo,video:this.state.video,user:this.state.user})));};t.prototype.enable=function(u){'use strict';if(this.$VideoComponentContainer3())return;this.vpc=u;this.$VideoComponentContainer1=new (c('SubscriptionsHandler'))();this.$VideoComponentContainer4(u);var v=this.refs.component;if(!v)return;if(!v.enable)throw new TypeError(q+' must implement enable(VideoPlayerController)');v.enable(u);this.$VideoComponentContainer5(u.getVideoID(),n.relayVideoConfig);};t.prototype.disable=function(){'use strict';if(this.$VideoComponentContainer3())return;var u=this.refs.component;if(!u)return;if(!u.disable)throw new TypeError(q+' must implement disable()');u.disable();this.$VideoComponentContainer1.release();};t.prototype.$VideoComponentContainer3=function(){'use strict';return p(this.props.videoData);};t.prototype.$VideoComponentContainer5=function(u,v){var w,x=this;'use strict';if(!v)return;var y=v.fragments.video,z=v.fragments.user;if(!y)throw new Error(q+' must include a \'video\' fragment');var aa=c('fromGraphQL').Query(function(ba,ca){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:c('Relay').QL.__var(ba)}],children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},c('Relay').QL.__frag(ca)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'Video',type:'Video'}],fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'VideoComponent',type:'Node'};}(u,y));c('Relay').Store.primeCache({graphQLQuery:aa},function(ba){if(ba.done){var ca=c('Relay').Store.readQuery(aa)[0];if(this.vpc&&ca&&this.refs.component&&ca.id==this.vpc.getVideoID())this.setState({video:ca});}}.bind(this));if(z)(function(){var ba=c('fromGraphQL').Query(function(ca,da){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:c('Relay').QL.__var(ca)}],children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(da)]),id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'user',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'VideoComponent',type:'User'};}(c('CurrentUser').getID(),z));c('Relay').Store.primeCache({userQuery:ba},function(ca){if(ca.done){var da=c('Relay').Store.readQuery(ba)[0];if(da&&this.refs.component)this.setState({user:da});}}.bind(x));})();};t.prototype.$VideoComponentContainer4=function(u){var v,w=this;'use strict';var x=function ca(event){var da=u.addListener(event,function(){return this.$VideoComponentContainer6(event);}.bind(w));w.$VideoComponentContainer1.addSubscriptions(da);};for(var y=o,z=Array.isArray(y),aa=0,y=z?y:y[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ba;if(z){if(aa>=y.length)break;ba=y[aa++];}else{aa=y.next();if(aa.done)break;ba=aa.value;}var event=ba;x(event);}};t.prototype.$VideoComponentContainer6=function(event){'use strict';if(!this.$VideoComponentContainer2.length)setTimeout(this.$VideoComponentContainer7,0);this.$VideoComponentContainer2.push(event);};return t;}(),l.displayName='VideoComponent('+q+')',m;}f.exports={createContainer:i};}),null);
__d('VideoComponentClickPlayPause.react',['React','VideoComponent','VideoWithClickPlayPause'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.enable=function(k){new (c('VideoWithClickPlayPause'))(k);};j.prototype.disable=function(){};j.prototype.shouldComponentUpdate=function(){return false;};j.prototype.render=function(){return null;};function j(){h.apply(this,arguments);}f.exports=c('VideoComponent').createContainer(j);}),null);
__d('VideoPlayer.react',['cx','FBOverlayBase.react','FBOverlayContainer.react','FBOverlayElement.react','Map','Pleasantville.react','Silvercity.react','React','ReactDOM','VideoAutoplayGatingResult','VideoComponentClickPlayPause.react','VideoPlayerController','VideoPlayerLoggerSource','VideoPlayerReason','VideoRenderingUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={subOrigin:c('VideoPlayerLoggerSource').MISC,showCaptionsDefault:false,onVideoClick:function m(){},autoplay:false,autoplayReason:c('VideoAutoplayGatingResult').UNKNOWN,autoplaySetting:'autoplay_setting_www',forceHD:false,startMuted:false};i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$VideoPlayer5=function(n,o){var p=babelHelpers['extends']({},this.props,{videoID:this.props.videoData.getVideoID(),ref:this.$VideoPlayer6.bind(this,o.toString())});return (c('React').createElement(c('FBOverlayElement.react'),{key:o},c('React').cloneElement(n,p)));}.bind(this);this.componentRefs=new (c('Map'))();}l.prototype.componentDidMount=function(){this.vpc=this.$VideoPlayer1(this.refs.video.getVideoPlayerInitArgs(),this.props.videoData);};l.prototype.componentDidUpdate=function(m){if(this.$VideoPlayer2(m)){this.$VideoPlayer3(this.vpc);this.vpc=this.$VideoPlayer1(this.refs.video.getVideoPlayerInitArgs(),this.props.videoData);}};l.prototype.componentWillUnmount=function(){this.$VideoPlayer3(this.vpc);};l.prototype.$VideoPlayer4=function(){return [c('React').createElement(c('VideoComponentClickPlayPause.react'),null)];};l.prototype.$VideoPlayer3=function(m){if(m){for(var n=this.componentRefs.values(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;r.disable();}var s=function t(){m.pause(c('VideoPlayerReason').UNLOADED);m.destroy({disableStillFrame:true});};m.runOnApiReady(s);}};l.prototype.$VideoPlayer2=function(m){return m.videoData.getVideoID()!==this.props.videoData.getVideoID();};l.prototype.$VideoPlayer1=function(m,n){var o=m.apiConfig,p=m.apiModule,q=m.videoElement;o.videoData=[n.getRawData()];var r=new (c('VideoPlayerController'))({source:this.props.subOrigin,playerOrigin:this.props.playerOrigin,autoplay_reason:this.props.autoplayReason,autoplay_setting:this.props.autoplaySetting,apiModule:p,apiConfig:o,should_autoplay:this.props.autoplay,player_version:this.props.videoData.getPlayerVersionOverwrite(),video_ids:[n.getVideoID()]},{root_element:c('ReactDOM').findDOMNode(this.refs.root),container_element:c('ReactDOM').findDOMNode(this.refs.container),video_element:c('ReactDOM').findDOMNode(q)});for(var s=this.componentRefs.values(),t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;w.enable(r);}r.addListener('clickVideo',this.props.onVideoClick);return r;};l.prototype.render=function(){var m=this.props,n=m.width,o=m.height,p=m.videoData,q=m.startMuted,r=babelHelpers.objectWithoutProperties(m,['width','height','videoData','startMuted']),s=c('VideoRenderingUtils').shouldFallbackToFlash(p),t="_ox1";o=o===undefined?n/p.getAspectRatio():o;var u=s?c('React').createElement(c('Silvercity.react'),babelHelpers['extends']({ref:'video',videoData:p,width:n,height:o,showSubtitles:this.props.showCaptionsDefault,className:t,startMuted:q,defaultHD:this.props.forceHD},r)):c('React').createElement(c('Pleasantville.react'),babelHelpers['extends']({ref:'video',videoData:p,width:n,height:o,showSubtitles:this.props.showCaptionsDefault,className:t,startMuted:q},r));return c('React').createElement('div',{ref:'root',className:"_1c_u"},c('React').createElement(c('FBOverlayContainer.react'),{ref:'container',className:"_53j5",style:{height:o+'px',width:this.props.width+'px'}},c('React').createElement(c('FBOverlayBase.react'),null,u),c('React').Children.toArray(this.$VideoPlayer4().concat(this.props.children)).filter(function(v){return v!=null;}).map(this.$VideoPlayer5)));};l.prototype.$VideoPlayer6=function(m,n){if(!n){this.componentRefs['delete'](m);}else this.componentRefs.set(m,n);};l.defaultProps=k;f.exports=l;}),null);
__d('VideoPlayerMetaData',['regeneratorRuntime','Promise','AsyncRequest','VideoDashPrefetchCache','VideoData','VideoPushParametersHelper','XVideoDataController','isHTML5VideoImplementationUnavailable'],(function a(b,c,d,e,f,g){'use strict';var h={},i=120000;function j(k){this.videoID=k;}j.prototype.getVideoID=function(){return this.videoID;};j.prototype.genVideoData=function k(){var l=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;if(!this.$VideoPlayerMetaData1){this.$VideoPlayerMetaData1=this.$VideoPlayerMetaData2(l);setTimeout(function(){return this.$VideoPlayerMetaData1=null;}.bind(this),i);}n.next=4;return c('regeneratorRuntime').awrap(this.$VideoPlayerMetaData1);case 4:return n.abrupt('return',n.sent);case 7:n.prev=7;n.t0=n['catch'](0);throw n.t0;case 10:case 'end':return n.stop();}},null,this,[[0,7]]);};j.prototype.$VideoPlayerMetaData2=function(k){var l=c('XVideoDataController').getURIBuilder().setString('video_id',this.videoID).setBool('supports_html5_video',!c('isHTML5VideoImplementationUnavailable')(true)),m=k.forceFlash;if(m!==undefined)l=l.setBool('force_flash',m);var n=l.getURI();return new (c('Promise'))(function(o,p){new (c('AsyncRequest'))(n).setMethod('GET').setURI(n).setReadOnly(true).setOption('suppressEvaluation',true).setAllowCrossPageTransition(true).setHandler(function(q){var r=JSON.parse(q.payload.responseText);if(!r.error){o(new (c('VideoData'))(r));}else p(r.error);}).setErrorHandler(function(q){var r=JSON.parse(q.errorMsg).error;p(r);}).send();});};j.get=function(k){if(!h[k])h[k]=new j(k);return h[k];};j.genVideoData=function k(l){var m=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c('regeneratorRuntime').awrap(j.get(l).genVideoData(m));case 2:return o.abrupt('return',o.sent);case 3:case 'end':return o.stop();}},null,this);};j.queuePrefetchRequestFromMouseMovement=function(k,l){var m=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2],n=arguments.length<=3||arguments[3]===undefined?function(){}:arguments[3],o=c('VideoDashPrefetchCache').getInstance();o.queueRequestFromMouseMovement(k.getVideoID(),k.getLiveManifestUrl(),new (c('VideoPushParametersHelper'))(k.getLiveManifestUrl()).setStreamEndOffset(c('VideoPushParametersHelper').getDefaultLiveStreamEndOffset()),l,m,n);};j.genPrefetch=function k(l){var m=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=arguments.length<=2||arguments[2]===undefined?0:arguments[2],o=arguments.length<=3||arguments[3]===undefined?function(){}:arguments[3],p=arguments.length<=4||arguments[4]===undefined?function(){}:arguments[4],q=arguments.length<=5||arguments[5]===undefined?function(){}:arguments[5],r;return c('regeneratorRuntime').async(function s(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return c('regeneratorRuntime').awrap(j.genVideoData(l,m));case 2:r=t.sent;if(r.isLiveStream()){o();j.queuePrefetchRequestFromMouseMovement(r,n,p,q);}return t.abrupt('return',c('Promise').resolve());case 5:case 'end':return t.stop();}},null,this);};f.exports=j;}),null);
__d('VideoComponentPlayButton.react',['cx','fbt','React','VideoComponent','nullthrows'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);this.$VideoComponentPlayButton1=function(){c('nullthrows')(this.state.vpc).clickVideo();}.bind(this);this.state={vpc:null};}l.prototype.render=function(){var m=this.state.vpc;if(!m)return null;var n=m.getState(),o=m.isPlayRequestPending(),p=m.isBuffering();if(o||p)return c('React').createElement('i',{className:"_5l7x"});if(n!=='paused'&&n!=='ready')return null;var q=i._("Play Video");return c('React').createElement('i',{className:"_3htz"+(' '+"_1jto")+(' '+"_bsl")+('')+(''),onClick:this.$VideoComponentPlayButton1},c('React').createElement('input',{'aria-label':q,type:'button',className:"_yak"}));};l.prototype.enable=function(m){this.setState({vpc:m});};l.prototype.disable=function(){};f.exports=c('VideoComponent').createContainer(l,{observedVpcEvents:['stateChange','bufferingChanged','pendingPlayRequestChanged']});}),null);
__d('VideoComponentEmbeddedControls.react',['cx','EmbeddedVideoControls','React','ReactDOM','Relay','VideoBroadcastStatus','VideoComponent','VideoPlayerExperiments','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.shouldComponentUpdate=function(l,m){return c('shallowCompare')(this,l,m);};k.prototype.componentWillReceiveProps=function(l){var m=this.embeddedControls;if(m&&l.video&&l.video!==this.props.video)m.updateConfig_DEPRECATED({permalinkURL:l.showPermalink?l.video.permalinkUrl:null,showButtons:{casting:l.video.canCastVideo&&c('VideoPlayerExperiments').chromecast},isLive:l.video.broadcastStatus===c('VideoBroadcastStatus').LIVE});};k.prototype.render=function(){return c('React').createElement('div',{ref:'playerControls',classNames:c('joinClasses')(this.props.classNames,(this.props.isCommercialBreak?"_2lwf":'')+(this.props.isCommercialBreak?' '+"_167h":'')+(' '+"_3tsq")+(' '+"_11q2"))});};k.prototype.disable=function(){if(this.embeddedControls)this.embeddedControls=null;};k.prototype.enable=function(l){this.embeddedControls=new (c('EmbeddedVideoControls'))(l,c('ReactDOM').findDOMNode(this.refs.playerControls),{hideOnEvents:{finish:this.props.hideControlsOnFinish,autoplay:this.props.hideControlsOnAutoplay},showButtons:{fullscreen:this.props.showFullscreenButton,watchandscroll:this.props.showWatchAndScrollButton,permalink:this.props.showPermalink},hideSettings:!this.props.showSettingsButton,shouldrendercontrols:this.props.shouldRenderControls,watchandscroll:this.props.detachable,redesign:this.props.redesign,hidePlaybackControl:this.props.hidePlaybackControl,hideRemainingTime:this.props.hideRemainingTime,isCommercialBreak:this.props.isCommercialBreak,showQualitySelector:this.props.showQualitySelector});};function k(){i.apply(this,arguments);}k.defaultProps={showSettingsButton:true,hideControlsOnFinish:false,hideControlsOnAutoplay:false,showFullscreenButton:true,showWatchAndScrollButton:false,shouldRenderControls:true,showPermalink:false,detachable:false,redesign:false,hidePlaybackControl:false,hideRemainingTime:false,isCommercialBreak:false,showQualitySelector:true};f.exports=c('VideoComponent').createContainer(k,{relayVideoConfig:{fragments:{video:function l(){return function(){return {children:[{alias:'permalinkUrl',fieldName:'permalink_url',kind:'Field',metadata:{},type:'Url'},{alias:'canCastVideo',fieldName:'can_cast_video',kind:'Field',metadata:{},type:'Boolean'},{alias:'broadcastStatus',fieldName:'broadcast_status',kind:'Field',metadata:{},type:'VideoBroadcastStatus'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'VideoComponentEmbeddedControls_react_VideoRelayQL',type:'Video'};}();}}}});}),null);