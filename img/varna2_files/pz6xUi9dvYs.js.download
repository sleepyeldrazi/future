if (self.CavalryLogger) { CavalryLogger.start_js(["3XtIY"]); }

__d("GraphQLSubscriptionsLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports={SYSTEM_SUBSCRIBE:"subscribe",SYSTEM_UNSUBSCRIBE:"unsubscribe",CLIENT_SUBSCRIBE:"client_subscribe",CLIENT_UNSUBSCRIBE:"client_unsubscribe",PUBLISH:"publish",SEND:"send",GENPAYLOAD:"genpayload",GENTOPIC:"gentopic",RECEIVEPAYLOAD:"receivepayload"};}),null);
__d("GraphQLSubscriptionsMechanism",[],(function a(b,c,d,e,f,g){f.exports={SKYWALKER:"skywalker"};}),null);
__d("PagesMessagingActionPlacement",[],(function a(b,c,d,e,f,g){f.exports={SPRINGBOARD_INLINE_ACTION:"springboard_inline_action",THREAD_LIST_BATCH_ACTION:"thread_list_batch_action",THREAD_ROW_ACTION_ICON:"thread_row_action_icon",MESSAGE_DIALOG_ACTION_LIST:"message_dialog_action_list",MESSAGE_DIALOG_OPENING:"message_dialog_opening",MESSAGE_DIALOG_SHOWN:"message_dialog_shown",THREAD_TITLE_BAR:"thread_title_bar",HOME_PAGE_PAGELET_INLINE_ACTION:"home_page_pagelet_inline_action",UNKNOWN:"unknown"};}),null);
__d("PaymentItemTypeFields",[],(function a(b,c,d,e,f,g){f.exports={NONE:"none",ADS_INVOICE:"ads_invoice",DONATIONS:"donations",OCULUS_CV1:"oculus_cv1",OCULUS_LAUNCH_V1:"oculus_launch_v1",OCULUS_LAUNCH_V2:"oculus_launch_v2",OZONE:"ozone",OPEN_GRAPH_PRODUCT:"open_graph_product",MESSENGER_COMMERCE:"messenger_commerce",P2P_TRANSFER:"p2p_transfer",DUMMY_FIRST_PARTY:"dummy_first_party",DUMMY_THIRD_PARTY:"dummy_third_party",GIFTS:"gifts",BILL:"bill",AIRMAIL:"airmail",EVENT_TICKETING:"event_ticketing",PAYMENT_LITE:"payment_lite",MESSENGER_API_FEE:"messenger_api_fee",NMOR_PAGES_COMMERCE:"nmor_pages_commerce"};}),null);
__d('PagesMessengerThreadUtils',['invariant','MessagingTag','PageMessageEnumTag'],(function a(b,c,d,e,f,g,h){var i='CUSTOM_TAG_',j='WITH_FLAG_',k={isFlagThread:function l(m){if(m&&m.page_thread_info&&'flagged' in m.page_thread_info)return m.page_thread_info.flagged;return false;},isPageSpecficEnumFilter:function l(m){if(m===c('PageMessageEnumTag').FLAG||m===c('PageMessageEnumTag').IMPORTANT)return true;return false;},isCustomTagsFilter:function l(m){return m.startsWith(i);},isCustomTagsWithFlagFilter:function l(m){return m.startsWith(i+j);},getCustomTagsFilter:function l(m,n){return i+(n?j:'')+JSON.stringify(m.sort());},parseCustomTagsFilter:function l(m){if(!this.isCustomTagsFilter(m))h(0);var n=this.isCustomTagsWithFlagFilter(m);return JSON.parse(m.substring(i.length+(n?j.length:0)));},getBatchActionMenuParam:function l(m){var n=false,o=false,p=false,q=false,r=false,s=false,t=false,u=false,v=false;if(m.folder===c('MessagingTag').INBOX&&!m.is_archived){n=true;q=true;if(k.isFlagThread(m)){t=true;}else s=true;if(m&&m.unread_count===0){v=true;}else u=true;}else if(m.folder===c('MessagingTag').SPAM){r=true;}else if(m.is_archived){o=true;p=true;}if(m&&m.unread_count===0){v=true;}else u=true;return {showArchive:n,showDelete:o,showUnarchive:p,showSpam:q,showUnspam:r,showFlag:s,showUnflag:t,showMarkRead:u,showMarkUnread:v,showHideContextCard:false,showShowContextCard:false};}};f.exports=k;}),null);
__d('GraphQLSubscriptionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:GraphQLSubscriptionsLoggerConfig',this.$GraphQLSubscriptionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:GraphQLSubscriptionsLoggerConfig',this.$GraphQLSubscriptionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$GraphQLSubscriptionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$GraphQLSubscriptionsTypedLogger1=babelHelpers['extends']({},this.$GraphQLSubscriptionsTypedLogger1,j);return this;};h.prototype.setAppID=function(j){this.$GraphQLSubscriptionsTypedLogger1.appid=j;return this;};h.prototype.setAppversion=function(j){this.$GraphQLSubscriptionsTypedLogger1.appversion=j;return this;};h.prototype.setClientSampleWeight=function(j){this.$GraphQLSubscriptionsTypedLogger1.client_sample_weight=j;return this;};h.prototype.setClientUserID=function(j){this.$GraphQLSubscriptionsTypedLogger1.client_userid=j;return this;};h.prototype.setClienttime=function(j){this.$GraphQLSubscriptionsTypedLogger1.clienttime=j;return this;};h.prototype.setDebugData=function(j){this.$GraphQLSubscriptionsTypedLogger1.debug_data=j;return this;};h.prototype.setEvent=function(j){this.$GraphQLSubscriptionsTypedLogger1.event=j;return this;};h.prototype.setExceptionData=function(j){this.$GraphQLSubscriptionsTypedLogger1.exception_data=j;return this;};h.prototype.setExceptionType=function(j){this.$GraphQLSubscriptionsTypedLogger1.exception_type=j;return this;};h.prototype.setIsemployee=function(j){this.$GraphQLSubscriptionsTypedLogger1.isemployee=j;return this;};h.prototype.setMechanism=function(j){this.$GraphQLSubscriptionsTypedLogger1.mechanism=j;return this;};h.prototype.setMutationType=function(j){this.$GraphQLSubscriptionsTypedLogger1.mutation_type=j;return this;};h.prototype.setName=function(j){this.$GraphQLSubscriptionsTypedLogger1.name=j;return this;};h.prototype.setPublishCluster=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_cluster=j;return this;};h.prototype.setPublishID=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_id=j;return this;};h.prototype.setPublishTimeMs=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_time_ms=j;return this;};h.prototype.setQueryID=function(j){this.$GraphQLSubscriptionsTypedLogger1.query_id=j;return this;};h.prototype.setQueryParams=function(j){this.$GraphQLSubscriptionsTypedLogger1.query_params=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setSessionID=function(j){this.$GraphQLSubscriptionsTypedLogger1.session_id=j;return this;};h.prototype.setSubscriptionCall=function(j){this.$GraphQLSubscriptionsTypedLogger1.subscription_call=j;return this;};h.prototype.setTopic=function(j){this.$GraphQLSubscriptionsTypedLogger1.topic=j;return this;};h.prototype.setTopicData=function(j){this.$GraphQLSubscriptionsTypedLogger1.topic_data=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setVC=function(j){this.$GraphQLSubscriptionsTypedLogger1.vc=j;return this;};var i={appid:true,appversion:true,client_sample_weight:true,client_userid:true,clienttime:true,debug_data:true,event:true,exception_data:true,exception_type:true,isemployee:true,mechanism:true,mutation_type:true,name:true,publish_cluster:true,publish_id:true,publish_time_ms:true,query_id:true,query_params:true,session_id:true,subscription_call:true,topic:true,topic_data:true,vc:true};f.exports=h;}),null);
__d('PagesMessagingPerfTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PagesMessagingPerfLoggerConfig',this.$PagesMessagingPerfTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PagesMessagingPerfLoggerConfig',this.$PagesMessagingPerfTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PagesMessagingPerfTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PagesMessagingPerfTypedLogger1=babelHelpers['extends']({},this.$PagesMessagingPerfTypedLogger1,j);return this;};h.prototype.setEventName=function(j){this.$PagesMessagingPerfTypedLogger1.event_name=j;return this;};h.prototype.setExceptionCode=function(j){this.$PagesMessagingPerfTypedLogger1.exception_code=j;return this;};h.prototype.setExceptionMessage=function(j){this.$PagesMessagingPerfTypedLogger1.exception_message=j;return this;};h.prototype.setPageID=function(j){this.$PagesMessagingPerfTypedLogger1.page_id=j;return this;};h.prototype.setPerfTime=function(j){this.$PagesMessagingPerfTypedLogger1.perf_time=j;return this;};h.prototype.setStack=function(j){this.$PagesMessagingPerfTypedLogger1.stack=j;return this;};h.prototype.setVC=function(j){this.$PagesMessagingPerfTypedLogger1.vc=j;return this;};var i={event_name:true,exception_code:true,exception_message:true,page_id:true,perf_time:true,stack:true,vc:true};f.exports=h;}),null);
__d('MercuryPageServerRequests',['CurrentUser','MercuryAPIArgsSource','MercuryAssert','MercuryServerRequests','MercurySingletonProvider','MessagingTag','PageMessageEnumTag','PagesEventType','PagesMessagingPerfTypedLogger','PagesMessengerThreadUtils','MercuryServerDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('MercuryAPIArgsSource').MERCURY;h=babelHelpers.inherits(k,c('MercuryServerRequests'));i=h&&h.prototype;k.getForFBID=function(m){return l.getForFBID(m);};k.get=function(){return l.get();};function k(m){i.constructor.call(this,m);var n={'/pages/messaging/thread_tag/add/':{request_user_id:m,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)},'/pages/messaging/thread_tag/remove/':{request_user_id:m,mode:c('MercuryServerDispatcher').BATCH_SUCCESSIVE,batch_function:this.$MercuryPageServerRequests1,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)},'/pages/messaging/thread_tag/list/':{request_user_id:m,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)},'/pages/messaging/thread_custom_tags/list/':{request_user_id:m,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)},'/pages/messaging/create_note/':{request_user_id:m,mode:c('MercuryServerDispatcher').IMMEDIATE,handler:function(o,p){return this.__handleUpdate(o,p);}.bind(this)}};c('MercuryServerDispatcher').registerEndpoints(n);}k.prototype.$MercuryPageServerRequests1=function(m,n){var o=m?m.tag_name:n.tag_name,p=m?m.thread_ids:[],q=n?n.thread_ids:[],r=p.concat(q),s={tag_name:o,thread_ids:r};return s;};k.prototype.addThreadFlag=function(m,n){c('MercuryAssert').isThreadID(m);this.__threadIDMap.getServerIDFromClientID(m,function(o){var p={thread_ids:[o],tag_name:c('PageMessageEnumTag').FLAG};this.__sendRequest('/pages/messaging/thread_tag/add/',p);}.bind(this));};k.prototype.createNote=function(m,n,o){c('MercuryAssert').isThreadID(o);this.__threadIDMap.getServerIDFromClientID(o,function(p){var q={body:m,message_id:n,other_user_fbid:p};this.__sendRequest('/pages/messaging/create_note/',q);}.bind(this));};k.prototype.fetchThreadlistInfo=function(m,n){var o=arguments.length<=2||arguments[2]===undefined?c('MessagingTag').INBOX:arguments[2],p=arguments[3],q=arguments.length<=4||arguments[4]===undefined?j:arguments[4],r={folder:o,offset:m,limit:n,tag_name:null,custom_tags_filter:null,custom_tags:[],enum_tag:''};if(c('PagesMessengerThreadUtils').isPageSpecficEnumFilter(p)){r.tag_name=p;this.__sendRequest('/pages/messaging/thread_tag/list/',r);return;}if(p&&c('PagesMessengerThreadUtils').isCustomTagsFilter(p)){r.custom_tags_filter=p;r.custom_tags=c('PagesMessengerThreadUtils').parseCustomTagsFilter(p);if(c('PagesMessengerThreadUtils').isCustomTagsWithFlagFilter(p))r.enum_tag=c('PageMessageEnumTag').FLAG;this.__sendRequest('/pages/messaging/thread_custom_tags/list/',r);return;}i.fetchThreadlistInfo.call(this,m,n,o,p,q);};k.prototype.removeThreadFlag=function(m,n){c('MercuryAssert').isThreadID(m);this.__threadIDMap.getServerIDFromClientID(m,function(o){var p={thread_ids:[o],tag_name:c('PageMessageEnumTag').FLAG};this.__sendRequest('/pages/messaging/thread_tag/remove/',p);}.bind(this));};k.prototype.toString=function(){return 'MercuryPageServerRequests';};k.prototype.__logMercurySendError=function(m){new (c('PagesMessagingPerfTypedLogger'))().setPageID(this.__getFBID()).setEventName(c('PagesEventType').MESSAGES_SEND_MESSAGE_JS_HANDLE_ERROR).setExceptionMessage(m.error_data.description).setExceptionCode(m.error_data.code).log();i.__logMercurySendError.call(this,m);};k.prototype.__getForAsyncRequest=function(m){var n=m.getData(),o=n.request_user_id?n.request_user_id:c('CurrentUser').getID();return k.getForFBID(o);};var l=new (c('MercurySingletonProvider'))(k);f.exports=k;}),null);
__d('MercuryPageThreadActions',['MercuryActionType','MercuryPayloadSource','MercuryPageServerRequests','MercurySingletonMixin','MercuryThreadActions'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('MercuryThreadActions'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.__serverRequests=c('MercuryPageServerRequests').getForFBID(k);}j.prototype.addFlag=function(k,l){'use strict';this.batchFlag([k],l);};j.prototype.batchAddFlag=function(k,l){'use strict';k.forEach(function(m){this.__serverRequests.addThreadFlag(m,l);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,true,l));};j.prototype.removeFlag=function(k,l){'use strict';this.batchRemoveFlag([k],l);};j.prototype.batchRemoveFlag=function(k,l){'use strict';k.forEach(function(m){this.__serverRequests.removeThreadFlag(m,l);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,false,l));};j.prototype.$MercuryPageThreadActions1=function(k,l,m){'use strict';return this.__constructClientPayload(k,c('MercuryActionType').CHANGE_FLAG,c('MercuryPayloadSource').CLIENT_CHANGE_FLAG,{mark_as_flag:l,source:m});};Object.assign(j,c('MercurySingletonMixin'),{_instances:{}});f.exports=j;}),null);
__d('MercuryThreadSnippet.react',['cx','fbt','immutable','ImmutableObject','MercuryAttachmentSnippet.react','MercuryConfig','MercuryIDs','MessengerTextWithEmoticons.react','MNAdsLogMessageUtils','React','TextWithEmoticons.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.shouldComponentUpdate=function(p){return (this.props.shouldRenderYou!==p.shouldRenderYou||this.props.thread!==p.thread||this.props.viewer!==p.viewer||this.props.className!==p.className||!c('immutable').is(p.participants,this.props.participants));};m.prototype.render=function(){return (c('React').createElement('span',{className:this.props.className},this.$MercuryThreadSnippet1(),this.$MercuryThreadSnippet2()));};m.prototype.$MercuryThreadSnippet1=function(){if(!this.props.thread.snippet||!n(this.props.thread))return null;return (c('React').createElement('span',{className:"_j0r"}));};m.prototype.$MercuryThreadSnippet2=function(){var p=this.props.thread,q=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),r=p.snippet,s=this.props.shouldRenderYou;if(p.snippetCount!=null)return i._({"*":"{number} results","268435456":"1 result"},[i.plural(p.snippetCount,'number')]);if(!r&&(p.snippet_attachments&&p.snippet_attachments.length>0||!p.snippet_sender))return this.$MercuryThreadSnippet3(r);var t=this.$MercuryThreadSnippet3(r),u=p.participants.length;if(p.is_subscribed)u--;c('MNAdsLogMessageUtils').logAdsThreadListImpression(p);var v=o(p);if(v)return i._("{name}: {conversation_snippet}",[i.param('name',v),i.param('conversation_snippet',t)]);if(p.snippet_sender===q){if(!s)return t;return i._("You: {conversation_snippet}",[i.param('conversation_snippet',t)]);}if(u<=1&&!this.props.shouldAlwaysRenderSender)return t;var w=this.props.participants.get(p.snippet_sender);if(!w)return t;var x=w.short_name||w.name;if(p){var y=p.custom_nickname?p.custom_nickname:null,z=c('MercuryIDs').getUserIDFromParticipantID(w.id);if(y&&z&&y[z]){x=y[z];if(c('MercuryConfig').MessengerNewEmojiGK)x=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:x});}}if(!x)return t;return i._("{name}: {conversation_snippet}",[i.param('name',x),i.param('conversation_snippet',t)]);};m.prototype.$MercuryThreadSnippet3=function(p){if(p&&p.startsWith('?OTR'))return i._("[encrypted message]");if(p){var q=c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});if(c('MercuryConfig').MessengerNewEmojiGK)q=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:p.replace(/\r\n|[\r\n]/g,' ')});return q;}var r=this.props.thread;if(n(r))return (c('React').createElement(c('MercuryAttachmentSnippet.react'),{thread:r,viewer:this.props.viewer}));return null;};function m(){j.apply(this,arguments);}m.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,shouldAlwaysRenderSender:l.bool,shouldRenderYou:l.bool,thread:l.object.isRequired,viewer:l.string.isRequired};function n(p){return !!(p.snippet_attachments&&p.snippet_attachments.length>0);}function o(p){if(p&&p.snippet_attachments&&p.snippet_attachments[0]&&p.snippet_attachments[0].share&&p.snippet_attachments[0].share.target&&p.snippet_attachments[0].share.target.genie_name)return p.snippet_attachments[0].share.target.genie_name;return null;}f.exports=m;}),null);
__d('MercuryPageOrderedThreadlist',['MercuryOrderedThreadlist','MercurySingletonProvider','MessagingTag','MercuryFilters','MercuryPageServerRequests'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('MercuryOrderedThreadlist'));i=h&&h.prototype;j.getForFBID=function(l){return k.getForFBID(l);};j.get=function(){return k.get();};function j(l){i.constructor.call(this,l);this.$MercuryPageOrderedThreadlist1=l;}j.prototype.getServerRequests=function(){return c('MercuryPageServerRequests').getForFBID(this.$MercuryPageOrderedThreadlist1);};j.prototype.addNonPriorityThreadsWithoutSort=function(l){var m=this.getThreadlistOrderMap(c('MessagingTag').INBOX,c('MercuryFilters').NONPRIORITY);m.addResourcesWithoutSorting(l,m.getCurrentArraySize());};var k=new (c('MercurySingletonProvider'))(j);f.exports=j;}),null);
__d('MercuryPagesChannelHandlerDEPRECATED',['ChannelConstants','MercuryActionType','MercuryChannelHandlerDEPRECATED','MercuryConfig','MercuryPayloadSource','MercurySingletonProvider','MessagingEvent','MessagingRealtimeConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('MercuryChannelHandlerDEPRECATED'));i=h&&h.prototype;j.get=function(){return k.get();};j.getForFBID=function(l){return k.getForFBID(l);};j.prototype.__markAsSeen=function(l,m){if(this.isPayloadForCurrentInstance(m))i.__markAsSeen.call(this,l,m);};j.prototype.__handleMessagingPayload=function(l,m){if(this.isPayloadForCurrentInstance(m))i.__handleMessagingPayload.call(this,l,m);};j.prototype.getRouting=function(){return {pages_messaging:this.__handleMessagingPayload};};j.prototype.__getMessagingPayloadType=function(){return c('ChannelConstants').getArbiterType('pages_messaging');};j.prototype.__getMercuryPayloadType=function(){return '';};j.prototype.__getInboxPayloadType=function(){return '';};j.prototype.isPayloadForCurrentInstance=function(l){var m=l.obj[c('MessagingRealtimeConstants').VIEWER_FBID]+'',n=i.getInstanceFBID.call(this)+'';return m===n;};function j(){h.apply(this,arguments);}var k=new (c('MercurySingletonProvider'))(j);f.exports=j;}),null);
__d('MercurySyncPageEnvironment',['Arbiter','ChannelInitialData','ChannelManager','MercurySyncDeltaHandler'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){if(Object.keys(c('ChannelInitialData')).length===0&&JSON.stringify(c('ChannelInitialData'))===JSON.stringify({}))return;if(!k)k=0;c('MercurySyncDeltaHandler').getForFBID(j);c('ChannelManager').subscribeIrisQueue(j,k.toString());c('Arbiter').inform('MercurySyncDeltaHandler/initSeqID',{fbid:j,seqID:k});}function i(j){}f.exports={setUp:h,tearDown:i};}),null);
__d('StickyHeader.react',['EventEmitter','EventListener','React','ReactDOM','ReactComponentWithPureRenderMixin','ResponsiveBlock.react','Style','getElementRect','joinClasses'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=1;function j(m){var n='data-sticky-header-parent-id';if(!m.hasAttribute(n))m.setAttribute(n,i++);return m.getAttribute(n);}var k=c('React').createClass({displayName:'StickyHeader',_resizeSubscription:null,_scrollSubscriptions:[],_mediaQuerySubscription:null,_cumulativeHeightSubscription:null,_emitter:null,propTypes:{contentClassName:h.string,header:h.node,headerClassName:h.string,headerClassNameWhenSticky:h.string,minimumViewportHeight:h.string,headerTopOffset:h.number},mixins:[c('ReactComponentWithPureRenderMixin')],getDefaultProps:function m(){return {minimumViewportHeight:''};},childContextTypes:{subscribeToStickyHeaderCumulativeHeightChanged:h.func.isRequired},contextTypes:{subscribeToStickyHeaderCumulativeHeightChanged:h.func},getInitialState:function m(){return {bottom:0,cumulativeHeightByScrollParentID:{},headerHeight:0,height:0,isBelowMinimumViewportHeight:false,isWindowScrollParent:true,left:0,scrollParentID:'',top:0,width:0};},componentWillMount:function m(){this._emitter=new (c('EventEmitter'))();this._scrollSubscriptions=[];},getChildContext:function m(){return {subscribeToStickyHeaderCumulativeHeightChanged:function(n){n(this._getChildCumulativeHeightByScrollParentID(this.state.headerHeight));return this._emitter.addListener('change',n);}.bind(this)};},componentDidMount:function m(){this._measureRect();var n=c('Style').getScrollParent(c('ReactDOM').findDOMNode(this)),o=n.getAttribute?j(n):'window';this.setState({scrollParentID:o});this._resizeSubscription=c('EventListener').listen(window,'resize',this._measureRect);var p=this._scrollSubscriptions;while(true){p.push(c('EventListener').listen(n,'scroll',this._measureRect));if(n===window)break;n=c('Style').getScrollParent(n.parentNode);}if(this.props.minimumViewportHeight)this._subscribeToMediaQuery(this.props.minimumViewportHeight);if(this.context.subscribeToStickyHeaderCumulativeHeightChanged)this._cumulativeHeightSubscription=this.context.subscribeToStickyHeaderCumulativeHeightChanged(this._cumulativeHeightChanged);},componentWillReceiveProps:function m(n){if(this.props.minimumViewportHeight!==n.minimumViewportHeight)this._subscribeToMediaQuery(n.minimumViewportHeight);},componentWillUnmount:function m(){if(this._resizeSubscription){this._resizeSubscription.remove();this._resizeSubscription=null;}if(this._mediaQuerySubscription){this._mediaQuerySubscription.remove();this._mediaQuerySubscription=null;}if(this._cumulativeHeightSubscription){this._cumulativeHeightSubscription.remove();this._cumulativeHeightSubscription=null;}if(this._scrollSubscriptions){this._scrollSubscriptions.forEach(function(n){return n.remove();});this._scrollSubscriptions=[];}},_subscribeToMediaQuery:function m(n){if(this._mediaQuerySubscription){this._mediaQuerySubscription.remove();this._mediaQuerySubscription=null;}if(!n)return;var o=window.matchMedia('(max-height: '+n+')');o.addListener(this._handleMediaQueryEvent);this._mediaQuerySubscription={remove:function(){o.removeListener(this._handleMediaQueryEvent);}.bind(this)};this._handleMediaQueryEvent(o);},_handleMediaQueryEvent:function m(n){if(!this.isMounted())return;this.setState({isBelowMinimumViewportHeight:n.matches});},_getParentTop:function m(){var n=c('ReactDOM').findDOMNode(this),o=c('Style').getScrollParent(n);return o&&o!==window?c('getElementRect')(o).top:0;},_getRectMeasurements:function m(){if(!this.isMounted())return {};var n=c('ReactDOM').findDOMNode(this),o=n.getBoundingClientRect();return {bottom:o.bottom,top:o.top,width:o.width,left:o.left};},_measureRect:function m(){if(!this.isMounted())return;this.setState(this._getRectMeasurements());},_measureHeader:function m(n,o){if(!this.isMounted())return;this.setState(babelHelpers['extends']({},this._getRectMeasurements(),{headerHeight:o}));this._emitter.emit('change',this._getChildCumulativeHeightByScrollParentID(o));},_getChildCumulativeHeightByScrollParentID:function m(n){var o=babelHelpers['extends']({},this.state.cumulativeHeightByScrollParentID);if(this.state.scrollParentID)o[this.state.scrollParentID]=(o[this.state.scrollParentID]||0)+n;return o;},_cumulativeHeightChanged:function m(n){this.setState(babelHelpers['extends']({},this._getRectMeasurements(),{cumulativeHeightByScrollParentID:n}));this._emitter.emit('change',this._getChildCumulativeHeightByScrollParentID(this.state.headerHeight));},render:function m(){var n=this.props,o=n.children,p=n.header,q=babelHelpers.objectWithoutProperties(n,['children','header']),r=this._getParentTop();r+=this.state.cumulativeHeightByScrollParentID[this.state.scrollParentID]||0;if(this.props.headerTopOffset)r+=this.props.headerTopOffset;var s=this.state.top<r&&this.state.bottom>r&&!this.state.isBelowMinimumViewportHeight,t=Math.min(r,this.state.bottom-this.state.headerHeight);return (c('React').createElement('div',babelHelpers['extends']({},q,{style:l.root}),c('React').createElement('div',{style:{height:this.state.headerHeight}}),c('React').createElement(c('ResponsiveBlock.react'),{className:c('joinClasses')(this.props.headerClassName,s&&this.props.headerClassNameWhenSticky),onResize:this._measureHeader,style:{position:s?'fixed':'absolute',left:s?this.state.left:0,top:s?t:0,width:this.state.width,zIndex:1}},p),c('React').createElement(c('ResponsiveBlock.react'),{className:this.props.contentClassName,onResize:this._measureRect,style:l.content},o)));}}),l={root:{position:'relative',zIndex:0},content:{zIndex:0}};f.exports=k;}),null);
__d('GraphQLMutationDataHandler',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i={getMutationType:function j(k){!!k&&Object.keys(k).length===1||h(0);return Object.keys(k)[0];}};f.exports=i;}),null);
__d('GraphQLSubscribeModes',[],(function a(b,c,d,e,f,g){'use strict';var h={SUBSCRIBE:'subscribe',UNSUBSCRIBE:'unsubscribe'};f.exports=h;}),null);
__d('GraphQLSubscriptionTracker',[],(function a(b,c,d,e,f,g){'use strict';var h={},i={trackSubscription:function j(k,l){h[l]=k;},getSubscription:function j(k){return h[k];},removeSubscription:function j(k){delete h[k];}};f.exports=i;}),null);
__d('RelayGraphQLSubscriptionNetworkLayer',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';var i=void 0,j={injectGraphQLSubscriber:function k(l){i=l;},sendSubscribeRequest:function k(l){i||h(0);i.sendSubscribeRequest(l);}};f.exports=j;}),null);
__d('RQLSubscription',['invariant','GraphQLMutationDataHandler','GraphQLSubscribeModes','GraphQLSubscriptionTracker','RelayGraphQLSubscriptionNetworkLayer'],(function a(b,c,d,e,f,g,h){'use strict';var i={sendSubscribe:function j(k,l,m,n,o){c('RelayGraphQLSubscriptionNetworkLayer').sendSubscribeRequest({mode:c('GraphQLSubscribeModes').SUBSCRIBE,subscription:k,subscriptionQueryID:n,params:l,clientSubscriptionID:m,topic:o});},sendUnsubscribe:function j(k,l,m,n,o){c('RelayGraphQLSubscriptionNetworkLayer').sendSubscribeRequest({mode:c('GraphQLSubscribeModes').UNSUBSCRIBE,subscription:k,subscriptionQueryID:n,params:l,clientSubscriptionID:m,topic:o});},handleSubscriptionPayload:function j(k){var l=c('GraphQLMutationDataHandler').getMutationType(k);k[l]||h(0);var m='client_subscription_id' in k[l];if(!m)return;var n=k[l].client_subscription_id;n||h(0);var o=c('GraphQLSubscriptionTracker').getSubscription(n);if(o)o.handlePayload(k);}};f.exports=i;}),null);
__d('GraphQLSubscription',['invariant','ClientIDs','GraphQLMutationDataHandler','GraphQLMutatorHub','GraphQLSubscriptionTracker','RQLSubscription','RelayMetaRoute','RelayQuery','RelayStore','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){this.clientSubscriptionID=c('ClientIDs').getNewClientID();this.$GraphQLSubscription1=this.constructor.getSubscriptionQuery();this.$GraphQLSubscription2=this.constructor.getSubscriptionQueryID();this.$GraphQLSubscription3=this.getQueryParams(j);this.$GraphQLSubscription4=k;this.$GraphQLSubscription5=this.getSubscriptionTopic(this.$GraphQLSubscription3);this.$GraphQLSubscription1&&this.$GraphQLSubscription3||h(0);c('RQLSubscription').sendSubscribe(this.$GraphQLSubscription1,this.$GraphQLSubscription3,this.clientSubscriptionID,this.$GraphQLSubscription2,this.$GraphQLSubscription5);c('GraphQLSubscriptionTracker').trackSubscription(this,this.clientSubscriptionID);this.$GraphQLSubscription6=true;}i.prototype.dispose=function(){this.$GraphQLSubscription6||h(0);c('RQLSubscription').sendUnsubscribe(this.$GraphQLSubscription1,this.$GraphQLSubscription3,this.clientSubscriptionID,this.$GraphQLSubscription2,this.$GraphQLSubscription5);c('GraphQLSubscriptionTracker').removeSubscription(this.clientSubscriptionID);this.$GraphQLSubscription6=false;};i.getSubscriptionQuery=function(){throw new Error('Must implement `getSubscriptionQuery.`');};i.getSubscriptionQueryID=function(){return null;};i.prototype.getSubscriptionTopic=function(){if(!this.constructor.getInputFieldsThatDetermineTopic)return null;return ['gqls',this.$GraphQLSubscription1.calls[0].name,this.constructor.getInputFieldsThatDetermineTopic().sort().map(function(j){return (String(j)+'_'+String(c('nullthrows')(this.$GraphQLSubscription3[j])));}.bind(this)).join('_')].join('/');};i.prototype.getQueryParams=function(j){throw new Error('Must implement `getQueryParams.`');};i.prototype.handlePayload=function(j){this.$GraphQLSubscription6||h(0);var k=c('GraphQLMutationDataHandler').getMutationType(j),l=j[k];c('RelayStore').getStoreData().handleUpdatePayload(c('RelayQuery').Subscription.create(this.$GraphQLSubscription1,c('RelayMetaRoute').get('$GraphQLSubscription'),{input:this.$GraphQLSubscription3}),l,{configs:c('GraphQLMutatorHub').getConfigs(k)||[],isOptimisticUpdate:false});this.$GraphQLSubscription4&&this.$GraphQLSubscription4(j);};f.exports=i;}),null);
__d('RelayGraphQLSubscriber',['Promise','ChannelManager','ActorURI','CSRFGuard','CurrentLocale','CurrentUser','GraphQLSubscribeModes','GraphQLSubscriptionsLoggerEvent','GraphQLSubscriptionsMechanism','GraphQLSubscriptionsTypedLogger','RelayAPIConfig','RelayMetaRoute','RelayQuery','RQLSubscription','RTISubscriptionManager','URI','XHRRequest','flattenRelayQuery','getAsyncParams','getCrossOriginTransport','nullthrows','printRelayQuery'],(function a(b,c,d,e,f,g){'use strict';c('ChannelManager');var h={},i=155160167952447;function j(k){return {sendSubscribeRequest:function l(m){var n=void 0,o=this._prepareData(m);if(m.mode===c('GraphQLSubscribeModes').SUBSCRIBE){n=this._getTopicAndTransformContext(o).then(function(p){var q=p.topic,r=p.transformContext;o.topic=q;r.appID=i;return this._subscribe(o,r);}.bind(this));}else if(m.mode===c('GraphQLSubscribeModes').UNSUBSCRIBE){n=this._unsubscribe(o);}else n=c('Promise').reject('invalid mode');n['catch'](function(p){return false;});},_prepareData:function l(m){var n={input:JSON.stringify(babelHelpers['extends']({},m.params,{client_subscription_id:m.clientSubscriptionID}))},o=c('RelayQuery').Subscription.create(m.subscription,c('RelayMetaRoute').get('$GraphQLSubscriber'),n),p=c('printRelayQuery')(c('nullthrows')(c('flattenRelayQuery')(o))).text;return {queryText:p,queryID:m.subscriptionQueryID!=null?Number(m.subscriptionQueryID):null,queryParams:n,topic:null,tokenKey:JSON.stringify({params:m.params,text:p}),logger:new (c('GraphQLSubscriptionsTypedLogger'))().setSubscriptionCall(o.getCall().name).setQueryParams(n).setMechanism(c('GraphQLSubscriptionsMechanism').SKYWALKER)};},_getTopicAndTransformContext:function l(m){var n=m.queryText,o=m.queryID,p=m.queryParams,q=m.topic;if(o!==null&&q!=null){var r={locale:c('CurrentLocale').get(),queryID:o,serializedQueryParameters:JSON.stringify(p),viewerID:c('CurrentUser').getID()};return c('Promise').resolve({topic:q,transformContext:r});}return new (c('Promise'))(function(s){var t,u=new (c('XHRRequest'))(k).setTransportBuilder(c('getCrossOriginTransport').withCredentials).setMethod('POST').setData(babelHelpers['extends']((t={},t[c('ActorURI').PARAMETER_ACTOR]=c('RelayAPIConfig').actorID,t.query=n,t.query_params=JSON.stringify(p),t),c('getAsyncParams')('POST'))).setResponseHandler(function(v){var w=JSON.parse(c('CSRFGuard').clean(v));s({topic:w.payload.topic,transformContext:JSON.parse(w.payload.transform_context)});});u.send();});},_subscribe:function l(m,n){var o=m.topic,p=m.tokenKey,q=m.logger;return new (c('Promise'))(function(r){h[p]=c('RTISubscriptionManager').subscribe(c('nullthrows')(o),function(s){var t=JSON.parse(s.payload);q.setEvent(c('GraphQLSubscriptionsLoggerEvent').RECEIVEPAYLOAD).log();c('RQLSubscription').handleSubscriptionPayload(t);},{transformContext:JSON.stringify(n)});q.setEvent(c('GraphQLSubscriptionsLoggerEvent').CLIENT_SUBSCRIBE).log();r();});},_unsubscribe:function l(m){var n=m.tokenKey,o=m.logger;return new (c('Promise'))(function(p){h[n].unsubscribe();delete h[n];o.setEvent(c('GraphQLSubscriptionsLoggerEvent').CLIENT_UNSUBSCRIBE).log();p();});}};}f.exports=j;}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/dlite\/skywalker_topic\/",{});}),null);