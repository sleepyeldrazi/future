if (self.CavalryLogger) { CavalryLogger.start_js(["ii6ay"]); }

__d('FBRTCCallUI',['regeneratorRuntime','BanzaiLogger','FBRTCCallSummary','FBRTCCallSummaryStore','FBRTCConstants','FBRTCLogger','FBRTCMessageListener','FBRTCUrlManager','pageID'],(function a(b,c,d,e,f,g){var h={openGroupCallUI:function i(j,k,l,m,n,o){var p,q;return c('regeneratorRuntime').async(function r(s){while(1)switch(s.prev=s.next){case 0:s.next=2;return c('regeneratorRuntime').awrap(c('FBRTCUrlManager').getGroupCallUri(j,k,l,m,c('FBRTCMessageListener').generateNewNonce()));case 2:p=s.sent;o.location=p;o.focus&&o.focus();q=new (c('FBRTCCallSummary'))({peerID:-1,callID:k,isCaller:true});q.onCallStarted(n);q.addExtraInfo(c('FBRTCLogger').Key.INITIATED_BY_PAGE_ID,c('pageID'));q.onCallEnded(c('FBRTCConstants').CallEndReason.CLIENT_ERROR,false,true,'PopupPending');q.save(c('FBRTCCallSummaryStore').getInstance());case 10:case 'end':return s.stop();}},null,this);},openGroupCallURI:function i(j){var k=j.conferenceName,l=j.callID,m=j.hasVideo,n=j.serverInfoData,o=j.trigger,p=j.callSummary,q=j.callWindow,r;return c('regeneratorRuntime').async(function s(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return c('regeneratorRuntime').awrap(c('FBRTCUrlManager').getGroupCallUri(k,l,[],m,c('FBRTCMessageListener').generateNewNonce(),n));case 2:r=t.sent;q.location=r;q.focus&&q.focus();p.onCallStarted(o);p.addExtraInfo(c('FBRTCLogger').Key.INITIATED_BY_PAGE_ID,c('pageID'));p.onCallEnded(c('FBRTCConstants').CallEndReason.CLIENT_ERROR,false,true,'PopupPending');p.save(c('FBRTCCallSummaryStore').getInstance());case 9:case 'end':return t.stop();}},null,this);},openAsCaller:function i(j,k,l,m,n){c('BanzaiLogger').log('VideoCallLoggerConfig',{event:'open_as_caller'});c('FBRTCLogger').getInstance().logCallAction(j,k,c('FBRTCLogger').CallAction.START_CALL,null,l);var o=new (c('FBRTCCallSummary'))({peerID:j,callID:k,isCaller:true});o.onCallStarted(l);this._open(j,k,true,o,false,m,n,l);},openAsCallee:function i(j,k,l,m,n,o){c('BanzaiLogger').log('VideoCallLoggerConfig',{event:'open_as_callee'});this._open(j,k,false,l,m,n,o);},_open:function i(j,k,l,m,n,o,p){var q=arguments.length<=7||arguments[7]===undefined?'':arguments[7];m.addExtraInfo(c('FBRTCLogger').Key.INITIATED_BY_PAGE_ID,c('pageID'));m.onCallEnded(c('FBRTCConstants').CallEndReason.CLIENT_ERROR,false,true,'PopupPending');m.save(c('FBRTCCallSummaryStore').getInstance());if(!p)return;n=c('FBRTCUrlManager').getNonceUri(j,k,l,o,c('FBRTCMessageListener').generateNewNonce(),q);c('BanzaiLogger').log('VideoCallLoggerConfig',{event:'open_popup'});if(!n){this._setUri(p,j,k,l,o);}else{c('FBRTCLogger').getInstance().logCallAction(j,k,c('FBRTCLogger').CallAction.OPEN_POPUP);p.location=n;}p.focus&&p.focus();},_setUri:function i(j,k,l,m,n){c('FBRTCUrlManager').getCallUri(k,l,m,n,function(o){c('FBRTCLogger').getInstance().logCallAction(k,l,c('FBRTCLogger').CallAction.OPEN_POPUP);j.location=o;},function(){c('FBRTCLogger').getInstance().logCallAction(k,l,c('FBRTCLogger').CallAction.FAILED_GETTING_URI);});}};f.exports=h;}),null);
__d('FBRTCSoundController',['RTCConfig','Sound'],(function a(b,c,d,e,f,g){var h=[c('RTCConfig').ringtone_mp3_url,c('RTCConfig').ringtone_ogg_url],i={playIncomingRingtone:function j(k,l,m){var n=['incoming_ringtone',k.toString(),l.toString()].join('_');c('Sound').play(h,n,m);},stopIncomingRingtone:function j(){c('Sound').stop(h);}};f.exports=i;}),null);